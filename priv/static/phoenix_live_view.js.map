{"version":3,"file":"phoenix_live_view.js","sources":["../../deps/phoenix/priv/static/phoenix.js","../../assets/node_modules/morphdom/dist/morphdom-esm.js","../../assets/js/phoenix_live_view.js"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Phoenix=t():e.Phoenix=t()}(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){(function(t){e.exports=t.Phoenix=n(2)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.r(t),n.d(t,\"Channel\",function(){return b}),n.d(t,\"Socket\",function(){return R}),n.d(t,\"LongPoll\",function(){return w}),n.d(t,\"Ajax\",function(){return C}),n.d(t,\"Presence\",function(){return S});var u=\"undefined\"!=typeof self?self:null,h=\"undefined\"!=typeof window?window:null,l=u||h||void 0,f={connecting:0,open:1,closing:2,closed:3},p=1e4,d={closed:\"closed\",errored:\"errored\",joined:\"joined\",joining:\"joining\",leaving:\"leaving\"},v={close:\"phx_close\",error:\"phx_error\",join:\"phx_join\",reply:\"phx_reply\",leave:\"phx_leave\"},y=[v.close,v.error,v.join,v.reply,v.leave],g={longpoll:\"longpoll\",websocket:\"websocket\"},m=function(e){if(\"function\"==typeof e)return e;return function(){return e}},k=function(){function e(t,n,i,o){s(this,e),this.channel=t,this.event=n,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=o,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return c(e,[{key:\"resend\",value:function(e){this.timeout=e,this.reset(),this.send()}},{key:\"send\",value:function(){this.hasReceived(\"timeout\")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:\"receive\",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:\"reset\",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:\"matchReceive\",value:function(e){var t=e.status,n=e.response;e.ref;this.recHooks.filter(function(e){return e.status===t}).forEach(function(e){return e.callback(n)})}},{key:\"cancelRefEvent\",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:\"cancelTimeout\",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:\"startTimeout\",value:function(){var e=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,function(t){e.cancelRefEvent(),e.cancelTimeout(),e.receivedResp=t,e.matchReceive(t)}),this.timeoutTimer=setTimeout(function(){e.trigger(\"timeout\",{})},this.timeout)}},{key:\"hasReceived\",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:\"trigger\",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),e}(),b=function(){function e(t,n,i){var o=this;s(this,e),this.state=d.closed,this.topic=t,this.params=m(n||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new k(this,v.join,this.params,this.timeout),this.pushBuffer=[],this.rejoinTimer=new T(function(){return o.rejoinUntilConnected()},this.socket.reconnectAfterMs),this.joinPush.receive(\"ok\",function(){o.state=d.joined,o.rejoinTimer.reset(),o.pushBuffer.forEach(function(e){return e.send()}),o.pushBuffer=[]}),this.onClose(function(){o.rejoinTimer.reset(),o.socket.hasLogger()&&o.socket.log(\"channel\",\"close \".concat(o.topic,\" \").concat(o.joinRef())),o.state=d.closed,o.socket.remove(o)}),this.onError(function(e){o.isLeaving()||o.isClosed()||(o.socket.hasLogger()&&o.socket.log(\"channel\",\"error \".concat(o.topic),e),o.state=d.errored,o.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(\"timeout\",function(){o.isJoining()&&(o.socket.hasLogger()&&o.socket.log(\"channel\",\"timeout \".concat(o.topic,\" (\").concat(o.joinRef(),\")\"),o.joinPush.timeout),new k(o,v.leave,m({}),o.timeout).send(),o.state=d.errored,o.joinPush.reset(),o.rejoinTimer.scheduleTimeout())}),this.on(v.reply,function(e,t){o.trigger(o.replyEventName(t),e)})}return c(e,[{key:\"rejoinUntilConnected\",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:\"join\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw new Error(\"tried to join multiple times. 'join' can only be called a single time per channel instance\");return this.joinedOnce=!0,this.rejoin(e),this.joinPush}},{key:\"onClose\",value:function(e){this.on(v.close,e)}},{key:\"onError\",value:function(e){return this.on(v.error,function(t){return e(t)})}},{key:\"on\",value:function(e,t){var n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}},{key:\"off\",value:function(e,t){this.bindings=this.bindings.filter(function(n){return!(n.event===e&&(void 0===t||t===n.ref))})}},{key:\"canPush\",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:\"push\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw new Error(\"tried to push '\".concat(e,\"' to '\").concat(this.topic,\"' before joining. Use channel.join() before pushing events\"));var i=new k(this,e,function(){return t},n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:\"leave\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=d.leaving;var n=function(){e.socket.hasLogger()&&e.socket.log(\"channel\",\"leave \".concat(e.topic)),e.trigger(v.close,\"leave\")},i=new k(this,v.leave,m({}),t);return i.receive(\"ok\",function(){return n()}).receive(\"timeout\",function(){return n()}),i.send(),this.canPush()||i.trigger(\"ok\",{}),i}},{key:\"onMessage\",value:function(e,t,n){return t}},{key:\"isLifecycleEvent\",value:function(e){return y.indexOf(e)>=0}},{key:\"isMember\",value:function(e,t,n,i){return this.topic===e&&(!i||i===this.joinRef()||!this.isLifecycleEvent(t)||(this.socket.hasLogger()&&this.socket.log(\"channel\",\"dropping outdated message\",{topic:e,event:t,payload:n,joinRef:i}),!1))}},{key:\"joinRef\",value:function(){return this.joinPush.ref}},{key:\"sendJoin\",value:function(e){this.state=d.joining,this.joinPush.resend(e)}},{key:\"rejoin\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||this.sendJoin(e)}},{key:\"trigger\",value:function(e,t,n,i){var o=this.onMessage(e,t,n,i);if(t&&!o)throw new Error(\"channel onMessage callbacks must return the payload, modified or unmodified\");for(var r=0;r<this.bindings.length;r++){var s=this.bindings[r];s.event===e&&s.callback(o,n,i||this.joinRef())}}},{key:\"replyEventName\",value:function(e){return\"chan_reply_\".concat(e)}},{key:\"isClosed\",value:function(){return this.state===d.closed}},{key:\"isErrored\",value:function(){return this.state===d.errored}},{key:\"isJoined\",value:function(){return this.state===d.joined}},{key:\"isJoining\",value:function(){return this.state===d.joining}},{key:\"isLeaving\",value:function(){return this.state===d.leaving}}]),e}(),j={encode:function(e,t){var n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))},decode:function(e,t){var n=r(JSON.parse(e),5);return t({join_ref:n[0],ref:n[1],topic:n[2],event:n[3],payload:n[4]})}},R=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||p,this.transport=i.transport||l.WebSocket||w,this.defaultEncoder=j.encode,this.defaultDecoder=j.decode,this.transport!==w?(this.encode=i.encode||this.defaultEncoder,this.decode=i.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.reconnectAfterMs=i.reconnectAfterMs||function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.logger=i.logger||null,this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=m(i.params||{}),this.endPoint=\"\".concat(t,\"/\").concat(g.websocket),this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new T(function(){n.teardown(function(){return n.connect()})},this.reconnectAfterMs)}return c(e,[{key:\"protocol\",value:function(){return location.protocol.match(/^https/)?\"wss\":\"ws\"}},{key:\"endPointURL\",value:function(){var e=C.appendParams(C.appendParams(this.endPoint,this.params()),{vsn:\"2.0.0\"});return\"/\"!==e.charAt(0)?e:\"/\"===e.charAt(1)?\"\".concat(this.protocol(),\":\").concat(e):\"\".concat(this.protocol(),\"://\").concat(location.host).concat(e)}},{key:\"disconnect\",value:function(e,t,n){this.reconnectTimer.reset(),this.teardown(e,t,n)}},{key:\"connect\",value:function(e){var t=this;e&&(console&&console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\"),this.params=m(e)),this.conn||(this.conn=new this.transport(this.endPointURL()),this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:\"log\",value:function(e,t,n){this.logger(e,t,n)}},{key:\"hasLogger\",value:function(){return null!==this.logger}},{key:\"onOpen\",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:\"onClose\",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:\"onError\",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:\"onMessage\",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:\"onConnOpen\",value:function(){this.hasLogger()&&this.log(\"transport\",\"connected to \".concat(this.endPointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(function(e){return e()})}},{key:\"resetHeartbeat\",value:function(){var e=this;this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(function(){return e.sendHeartbeat()},this.heartbeatIntervalMs))}},{key:\"teardown\",value:function(e,t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n||\"\"):this.conn.close(),this.conn=null),e&&e()}},{key:\"onConnClose\",value:function(e){this.hasLogger()&&this.log(\"transport\",\"close\",e),this.triggerChanError(),clearInterval(this.heartbeatTimer),e&&1e3!==e.code&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(function(t){return t(e)})}},{key:\"onConnError\",value:function(e){this.hasLogger()&&this.log(\"transport\",e),this.triggerChanError(),this.stateChangeCallbacks.error.forEach(function(t){return t(e)})}},{key:\"triggerChanError\",value:function(){this.channels.forEach(function(e){return e.trigger(v.error)})}},{key:\"connectionState\",value:function(){switch(this.conn&&this.conn.readyState){case f.connecting:return\"connecting\";case f.open:return\"open\";case f.closing:return\"closing\";default:return\"closed\"}}},{key:\"isConnected\",value:function(){return\"open\"===this.connectionState()}},{key:\"remove\",value:function(e){this.channels=this.channels.filter(function(t){return t.joinRef()!==e.joinRef()})}},{key:\"channel\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new b(e,t,this);return this.channels.push(n),n}},{key:\"push\",value:function(e){var t=this;if(this.hasLogger()){var n=e.topic,i=e.event,o=e.payload,r=e.ref,s=e.join_ref;this.log(\"push\",\"\".concat(n,\" \").concat(i,\" (\").concat(s,\", \").concat(r,\")\"),o)}this.isConnected()?this.encode(e,function(e){return t.conn.send(e)}):this.sendBuffer.push(function(){return t.encode(e,function(e){return t.conn.send(e)})})}},{key:\"makeRef\",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:\"sendHeartbeat\",value:function(){if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.hasLogger()&&this.log(\"transport\",\"heartbeat timeout. Attempting to re-establish connection\"),void this.conn.close(1e3,\"hearbeat timeout\");this.pendingHeartbeatRef=this.makeRef(),this.push({topic:\"phoenix\",event:\"heartbeat\",payload:{},ref:this.pendingHeartbeatRef})}}},{key:\"flushSendBuffer\",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(function(e){return e()}),this.sendBuffer=[])}},{key:\"onConnMessage\",value:function(e){var t=this;this.decode(e.data,function(e){var n=e.topic,i=e.event,o=e.payload,r=e.ref,s=e.join_ref;r&&r===t.pendingHeartbeatRef&&(t.pendingHeartbeatRef=null),t.hasLogger()&&t.log(\"receive\",\"\".concat(o.status||\"\",\" \").concat(n,\" \").concat(i,\" \").concat(r&&\"(\"+r+\")\"||\"\"),o);for(var a=0;a<t.channels.length;a++){var c=t.channels[a];c.isMember(n,i,o,s)&&c.trigger(i,o,r,s)}for(var u=0;u<t.stateChangeCallbacks.message.length;u++)t.stateChangeCallbacks.message[u](e)})}}]),e}(),w=function(){function e(t){s(this,e),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=f.connecting,this.poll()}return c(e,[{key:\"normalizeEndpoint\",value:function(e){return e.replace(\"ws://\",\"http://\").replace(\"wss://\",\"https://\").replace(new RegExp(\"(.*)/\"+g.websocket),\"$1/\"+g.longpoll)}},{key:\"endpointURL\",value:function(){return C.appendParams(this.pollEndpoint,{token:this.token})}},{key:\"closeAndRetry\",value:function(){this.close(),this.readyState=f.connecting}},{key:\"ontimeout\",value:function(){this.onerror(\"timeout\"),this.closeAndRetry()}},{key:\"poll\",value:function(){var e=this;this.readyState!==f.open&&this.readyState!==f.connecting||C.request(\"GET\",this.endpointURL(),\"application/json\",null,this.timeout,this.ontimeout.bind(this),function(t){if(t){var n=t.status,i=t.token,o=t.messages;e.token=i}else n=0;switch(n){case 200:o.forEach(function(t){return e.onmessage({data:t})}),e.poll();break;case 204:e.poll();break;case 410:e.readyState=f.open,e.onopen(),e.poll();break;case 0:case 500:e.onerror(),e.closeAndRetry();break;default:throw new Error(\"unhandled poll status \".concat(n))}})}},{key:\"send\",value:function(e){var t=this;C.request(\"POST\",this.endpointURL(),\"application/json\",e,this.timeout,this.onerror.bind(this,\"timeout\"),function(e){e&&200===e.status||(t.onerror(e&&e.status),t.closeAndRetry())})}},{key:\"close\",value:function(e,t){this.readyState=f.closed,this.onclose()}}]),e}(),C=function(){function e(){s(this,e)}return c(e,null,[{key:\"request\",value:function(e,t,n,i,o,r,s){if(l.XDomainRequest){var a=new XDomainRequest;this.xdomainRequest(a,e,t,i,o,r,s)}else{var c=l.XMLHttpRequest?new l.XMLHttpRequest:new ActiveXObject(\"Microsoft.XMLHTTP\");this.xhrRequest(c,e,t,n,i,o,r,s)}}},{key:\"xdomainRequest\",value:function(e,t,n,i,o,r,s){var a=this;e.timeout=o,e.open(t,n),e.onload=function(){var t=a.parseJSON(e.responseText);s&&s(t)},r&&(e.ontimeout=r),e.onprogress=function(){},e.send(i)}},{key:\"xhrRequest\",value:function(e,t,n,i,o,r,s,a){var c=this;e.open(t,n,!0),e.timeout=r,e.setRequestHeader(\"Content-Type\",i),e.onerror=function(){a&&a(null)},e.onreadystatechange=function(){if(e.readyState===c.states.complete&&a){var t=c.parseJSON(e.responseText);a(t)}},s&&(e.ontimeout=s),e.send(o)}},{key:\"parseJSON\",value:function(e){if(!e||\"\"===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log(\"failed to parse JSON response\",e),null}}},{key:\"serialize\",value:function(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)){var r=t?\"\".concat(t,\"[\").concat(i,\"]\"):i,s=e[i];\"object\"===o(s)?n.push(this.serialize(s,r)):n.push(encodeURIComponent(r)+\"=\"+encodeURIComponent(s))}return n.join(\"&\")}},{key:\"appendParams\",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\\?/)?\"&\":\"?\";return\"\".concat(e).concat(n).concat(this.serialize(t))}}]),e}();C.states={complete:4};var S=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e);var o=i.events||{state:\"presence_state\",diff:\"presence_diff\"};this.state={},this.pendingDiffs=[],this.channel=t,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(o.state,function(t){var i=n.caller,o=i.onJoin,r=i.onLeave,s=i.onSync;n.joinRef=n.channel.joinRef(),n.state=e.syncState(n.state,t,o,r),n.pendingDiffs.forEach(function(t){n.state=e.syncDiff(n.state,t,o,r)}),n.pendingDiffs=[],s()}),this.channel.on(o.diff,function(t){var i=n.caller,o=i.onJoin,r=i.onLeave,s=i.onSync;n.inPendingSyncState()?n.pendingDiffs.push(t):(n.state=e.syncDiff(n.state,t,o,r),s())})}return c(e,[{key:\"onJoin\",value:function(e){this.caller.onJoin=e}},{key:\"onLeave\",value:function(e){this.caller.onLeave=e}},{key:\"onSync\",value:function(e){this.caller.onSync=e}},{key:\"list\",value:function(t){return e.list(this.state,t)}},{key:\"inPendingSyncState\",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:\"syncState\",value:function(e,t,n,i){var o=this,r=this.clone(e),s={},a={};return this.map(r,function(e,n){t[e]||(a[e]=n)}),this.map(t,function(e,t){var n=r[e];if(n){var i=t.metas.map(function(e){return e.phx_ref}),c=n.metas.map(function(e){return e.phx_ref}),u=t.metas.filter(function(e){return c.indexOf(e.phx_ref)<0}),h=n.metas.filter(function(e){return i.indexOf(e.phx_ref)<0});u.length>0&&(s[e]=t,s[e].metas=u),h.length>0&&(a[e]=o.clone(n),a[e].metas=h)}else s[e]=t}),this.syncDiff(r,{joins:s,leaves:a},n,i)}},{key:\"syncDiff\",value:function(e,t,n,o){var r=t.joins,s=t.leaves,a=this.clone(e);return n||(n=function(){}),o||(o=function(){}),this.map(r,function(e,t){var o=a[e];if(a[e]=t,o){var r,s=a[e].metas.map(function(e){return e.phx_ref}),c=o.metas.filter(function(e){return s.indexOf(e.phx_ref)<0});(r=a[e].metas).unshift.apply(r,i(c))}n(e,o,t)}),this.map(s,function(e,t){var n=a[e];if(n){var i=t.metas.map(function(e){return e.phx_ref});n.metas=n.metas.filter(function(e){return i.indexOf(e.phx_ref)<0}),o(e,n,t),0===n.metas.length&&delete a[e]}}),a}},{key:\"list\",value:function(e,t){return t||(t=function(e,t){return t}),this.map(e,function(e,n){return t(e,n)})}},{key:\"map\",value:function(e,t){return Object.getOwnPropertyNames(e).map(function(n){return t(n,e[n])})}},{key:\"clone\",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}(),T=function(){function e(t,n){s(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return c(e,[{key:\"reset\",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:\"scheduleTimeout\",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.tries=e.tries+1,e.callback()},this.timerCalc(this.tries+1))}}]),e}()}])});","function morphAttrs(fromNode, toNode) {\n    var attrs = toNode.attributes;\n    var i;\n    var attr;\n    var attrName;\n    var attrNamespaceURI;\n    var attrValue;\n    var fromValue;\n\n    for (i = attrs.length - 1; i >= 0; --i) {\n        attr = attrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            fromValue = fromNode.getAttribute(attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttribute(attrName, attrValue);\n            }\n        }\n    }\n\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    attrs = fromNode.attributes;\n\n    for (i = attrs.length - 1; i >= 0; --i) {\n        attr = attrs[i];\n        if (attr.specified !== false) {\n            attrName = attr.name;\n            attrNamespaceURI = attr.namespaceURI;\n\n            if (attrNamespaceURI) {\n                attrName = attr.localName || attrName;\n\n                if (!toNode.hasAttributeNS(attrNamespaceURI, attrName)) {\n                    fromNode.removeAttributeNS(attrNamespaceURI, attrName);\n                }\n            } else {\n                if (!toNode.hasAttribute(attrName)) {\n                    fromNode.removeAttribute(attrName);\n                }\n            }\n        }\n    }\n}\n\nvar range; // Create a range object for efficently rendering strings to elements.\nvar NS_XHTML = 'http://www.w3.org/1999/xhtml';\n\nvar doc = typeof document === 'undefined' ? undefined : document;\n\nfunction toElement(str) {\n    if (!range && doc.createRange) {\n        range = doc.createRange();\n        range.selectNode(doc.body);\n    }\n\n    var fragment;\n    if (range && range.createContextualFragment) {\n        fragment = range.createContextualFragment(str);\n    } else {\n        fragment = doc.createElement('body');\n        fragment.innerHTML = str;\n    }\n    return fragment.childNodes[0];\n}\n\n/**\n * Returns true if two node's names are the same.\n *\n * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same\n *       nodeName and different namespace URIs.\n *\n * @param {Element} a\n * @param {Element} b The target element\n * @return {boolean}\n */\nfunction compareNodeNames(fromEl, toEl) {\n    var fromNodeName = fromEl.nodeName;\n    var toNodeName = toEl.nodeName;\n\n    if (fromNodeName === toNodeName) {\n        return true;\n    }\n\n    if (toEl.actualize &&\n        fromNodeName.charCodeAt(0) < 91 && /* from tag name is upper case */\n        toNodeName.charCodeAt(0) > 90 /* target tag name is lower case */) {\n        // If the target element is a virtual DOM node then we may need to normalize the tag name\n        // before comparing. Normal HTML elements that are in the \"http://www.w3.org/1999/xhtml\"\n        // are converted to upper case\n        return fromNodeName === toNodeName.toUpperCase();\n    } else {\n        return false;\n    }\n}\n\n/**\n * Create an element, optionally with a known namespace URI.\n *\n * @param {string} name the element name, e.g. 'div' or 'svg'\n * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of\n * its `xmlns` attribute or its inferred namespace.\n *\n * @return {Element}\n */\nfunction createElementNS(name, namespaceURI) {\n    return !namespaceURI || namespaceURI === NS_XHTML ?\n        doc.createElement(name) :\n        doc.createElementNS(namespaceURI, name);\n}\n\n/**\n * Copies the children of one DOM element to another DOM element\n */\nfunction moveChildren(fromEl, toEl) {\n    var curChild = fromEl.firstChild;\n    while (curChild) {\n        var nextChild = curChild.nextSibling;\n        toEl.appendChild(curChild);\n        curChild = nextChild;\n    }\n    return toEl;\n}\n\nfunction syncBooleanAttrProp(fromEl, toEl, name) {\n    if (fromEl[name] !== toEl[name]) {\n        fromEl[name] = toEl[name];\n        if (fromEl[name]) {\n            fromEl.setAttribute(name, '');\n        } else {\n            fromEl.removeAttribute(name);\n        }\n    }\n}\n\nvar specialElHandlers = {\n    /**\n     * Needed for IE. Apparently IE doesn't think that \"selected\" is an\n     * attribute when reading over the attributes using selectEl.attributes\n     */\n    OPTION: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'selected');\n    },\n    /**\n     * The \"value\" attribute is special for the <input> element since it sets\n     * the initial value. Changing the \"value\" attribute without changing the\n     * \"value\" property will have no effect since it is only used to the set the\n     * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n     */\n    INPUT: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'checked');\n        syncBooleanAttrProp(fromEl, toEl, 'disabled');\n\n        if (fromEl.value !== toEl.value) {\n            fromEl.value = toEl.value;\n        }\n\n        if (!toEl.hasAttribute('value')) {\n            fromEl.removeAttribute('value');\n        }\n    },\n\n    TEXTAREA: function(fromEl, toEl) {\n        var newValue = toEl.value;\n        if (fromEl.value !== newValue) {\n            fromEl.value = newValue;\n        }\n\n        var firstChild = fromEl.firstChild;\n        if (firstChild) {\n            // Needed for IE. Apparently IE sets the placeholder as the\n            // node value and vise versa. This ignores an empty update.\n            var oldValue = firstChild.nodeValue;\n\n            if (oldValue == newValue || (!newValue && oldValue == fromEl.placeholder)) {\n                return;\n            }\n\n            firstChild.nodeValue = newValue;\n        }\n    },\n    SELECT: function(fromEl, toEl) {\n        if (!toEl.hasAttribute('multiple')) {\n            var i = 0;\n            var curChild = toEl.firstChild;\n            while(curChild) {\n                var nodeName = curChild.nodeName;\n                if (nodeName && nodeName.toUpperCase() === 'OPTION') {\n                    if (curChild.hasAttribute('selected')) {\n                        break;\n                    }\n                    i++;\n                }\n                curChild = curChild.nextSibling;\n            }\n\n            fromEl.selectedIndex = i;\n        }\n    }\n};\n\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\n\nfunction noop() {}\n\nfunction defaultGetNodeKey(node) {\n    return node.id;\n}\n\nfunction morphdomFactory(morphAttrs) {\n\n    return function morphdom(fromNode, toNode, options) {\n        if (!options) {\n            options = {};\n        }\n\n        if (typeof toNode === 'string') {\n            if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML') {\n                var toNodeHtml = toNode;\n                toNode = doc.createElement('html');\n                toNode.innerHTML = toNodeHtml;\n            } else {\n                toNode = toElement(toNode);\n            }\n        }\n\n        var getNodeKey = options.getNodeKey || defaultGetNodeKey;\n        var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;\n        var onNodeAdded = options.onNodeAdded || noop;\n        var onBeforeElUpdated = options.onBeforeElUpdated || noop;\n        var onElUpdated = options.onElUpdated || noop;\n        var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n        var onNodeDiscarded = options.onNodeDiscarded || noop;\n        var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;\n        var childrenOnly = options.childrenOnly === true;\n\n        // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.\n        var fromNodesLookup = {};\n        var keyedRemovalList;\n\n        function addKeyedRemoval(key) {\n            if (keyedRemovalList) {\n                keyedRemovalList.push(key);\n            } else {\n                keyedRemovalList = [key];\n            }\n        }\n\n        function walkDiscardedChildNodes(node, skipKeyedNodes) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n\n                    var key = undefined;\n\n                    if (skipKeyedNodes && (key = getNodeKey(curChild))) {\n                        // If we are skipping keyed nodes then we add the key\n                        // to a list so that it can be handled at the very end.\n                        addKeyedRemoval(key);\n                    } else {\n                        // Only report the node as discarded if it is not keyed. We do this because\n                        // at the end we loop through all keyed elements that were unmatched\n                        // and then discard them in one final pass.\n                        onNodeDiscarded(curChild);\n                        if (curChild.firstChild) {\n                            walkDiscardedChildNodes(curChild, skipKeyedNodes);\n                        }\n                    }\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        /**\n         * Removes a DOM node out of the original DOM\n         *\n         * @param  {Node} node The node to remove\n         * @param  {Node} parentNode The nodes parent\n         * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.\n         * @return {undefined}\n         */\n        function removeNode(node, parentNode, skipKeyedNodes) {\n            if (onBeforeNodeDiscarded(node) === false) {\n                return;\n            }\n\n            if (parentNode) {\n                parentNode.removeChild(node);\n            }\n\n            onNodeDiscarded(node);\n            walkDiscardedChildNodes(node, skipKeyedNodes);\n        }\n\n        // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future\n        // function indexTree(root) {\n        //     var treeWalker = document.createTreeWalker(\n        //         root,\n        //         NodeFilter.SHOW_ELEMENT);\n        //\n        //     var el;\n        //     while((el = treeWalker.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future\n        //\n        // function indexTree(node) {\n        //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);\n        //     var el;\n        //     while((el = nodeIterator.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        function indexTree(node) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n                    var key = getNodeKey(curChild);\n                    if (key) {\n                        fromNodesLookup[key] = curChild;\n                    }\n\n                    // Walk recursively\n                    indexTree(curChild);\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        indexTree(fromNode);\n\n        function handleNodeAdded(el) {\n            onNodeAdded(el);\n\n            var curChild = el.firstChild;\n            while (curChild) {\n                var nextSibling = curChild.nextSibling;\n\n                var key = getNodeKey(curChild);\n                if (key) {\n                    var unmatchedFromEl = fromNodesLookup[key];\n                    if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {\n                        curChild.parentNode.replaceChild(unmatchedFromEl, curChild);\n                        morphEl(unmatchedFromEl, curChild);\n                    }\n                }\n\n                handleNodeAdded(curChild);\n                curChild = nextSibling;\n            }\n        }\n\n        function morphEl(fromEl, toEl, childrenOnly) {\n            var toElKey = getNodeKey(toEl);\n            var curFromNodeKey;\n\n            if (toElKey) {\n                // If an element with an ID is being morphed then it is will be in the final\n                // DOM so clear it out of the saved elements collection\n                delete fromNodesLookup[toElKey];\n            }\n\n            if (toNode.isSameNode && toNode.isSameNode(fromNode)) {\n                return;\n            }\n\n            if (!childrenOnly) {\n                if (onBeforeElUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n\n                morphAttrs(fromEl, toEl);\n                onElUpdated(fromEl);\n\n                if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n            }\n\n            if (fromEl.nodeName !== 'TEXTAREA') {\n                var curToNodeChild = toEl.firstChild;\n                var curFromNodeChild = fromEl.firstChild;\n                var curToNodeKey;\n\n                var fromNextSibling;\n                var toNextSibling;\n                var matchingFromEl;\n\n                outer: while (curToNodeChild) {\n                    toNextSibling = curToNodeChild.nextSibling;\n                    curToNodeKey = getNodeKey(curToNodeChild);\n\n                    while (curFromNodeChild) {\n                        fromNextSibling = curFromNodeChild.nextSibling;\n\n                        if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {\n                            curToNodeChild = toNextSibling;\n                            curFromNodeChild = fromNextSibling;\n                            continue outer;\n                        }\n\n                        curFromNodeKey = getNodeKey(curFromNodeChild);\n\n                        var curFromNodeType = curFromNodeChild.nodeType;\n\n                        var isCompatible = undefined;\n\n                        if (curFromNodeType === curToNodeChild.nodeType) {\n                            if (curFromNodeType === ELEMENT_NODE) {\n                                // Both nodes being compared are Element nodes\n\n                                if (curToNodeKey) {\n                                    // The target node has a key so we want to match it up with the correct element\n                                    // in the original DOM tree\n                                    if (curToNodeKey !== curFromNodeKey) {\n                                        // The current element in the original DOM tree does not have a matching key so\n                                        // let's check our lookup to see if there is a matching element in the original\n                                        // DOM tree\n                                        if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {\n                                            if (curFromNodeChild.nextSibling === matchingFromEl) {\n                                                // Special case for single element removals. To avoid removing the original\n                                                // DOM node out of the tree (since that can break CSS transitions, etc.),\n                                                // we will instead discard the current node and wait until the next\n                                                // iteration to properly match up the keyed target element with its matching\n                                                // element in the original tree\n                                                isCompatible = false;\n                                            } else {\n                                                // We found a matching keyed element somewhere in the original DOM tree.\n                                                // Let's moving the original DOM node into the current position and morph\n                                                // it.\n\n                                                // NOTE: We use insertBefore instead of replaceChild because we want to go through\n                                                // the `removeNode()` function for the node that is being discarded so that\n                                                // all lifecycle hooks are correctly invoked\n                                                fromEl.insertBefore(matchingFromEl, curFromNodeChild);\n\n                                                fromNextSibling = curFromNodeChild.nextSibling;\n\n                                                if (curFromNodeKey) {\n                                                    // Since the node is keyed it might be matched up later so we defer\n                                                    // the actual removal to later\n                                                    addKeyedRemoval(curFromNodeKey);\n                                                } else {\n                                                    // NOTE: we skip nested keyed nodes from being removed since there is\n                                                    //       still a chance they will be matched up later\n                                                    removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                                                }\n\n                                                curFromNodeChild = matchingFromEl;\n                                            }\n                                        } else {\n                                            // The nodes are not compatible since the \"to\" node has a key and there\n                                            // is no matching keyed node in the source tree\n                                            isCompatible = false;\n                                        }\n                                    }\n                                } else if (curFromNodeKey) {\n                                    // The original has a key\n                                    isCompatible = false;\n                                }\n\n                                isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);\n                                if (isCompatible) {\n                                    // We found compatible DOM elements so transform\n                                    // the current \"from\" node to match the current\n                                    // target DOM node.\n                                    morphEl(curFromNodeChild, curToNodeChild);\n                                }\n\n                            } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {\n                                // Both nodes being compared are Text or Comment nodes\n                                isCompatible = true;\n                                // Simply update nodeValue on the original node to\n                                // change the text value\n                                if (curFromNodeChild.nodeValue !== curToNodeChild.nodeValue) {\n                                    curFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n                                }\n\n                            }\n                        }\n\n                        if (isCompatible) {\n                            // Advance both the \"to\" child and the \"from\" child since we found a match\n                            curToNodeChild = toNextSibling;\n                            curFromNodeChild = fromNextSibling;\n                            continue outer;\n                        }\n\n                        // No compatible match so remove the old node from the DOM and continue trying to find a\n                        // match in the original DOM. However, we only do this if the from node is not keyed\n                        // since it is possible that a keyed node might match up with a node somewhere else in the\n                        // target tree and we don't want to discard it just yet since it still might find a\n                        // home in the final DOM tree. After everything is done we will remove any keyed nodes\n                        // that didn't find a home\n                        if (curFromNodeKey) {\n                            // Since the node is keyed it might be matched up later so we defer\n                            // the actual removal to later\n                            addKeyedRemoval(curFromNodeKey);\n                        } else {\n                            // NOTE: we skip nested keyed nodes from being removed since there is\n                            //       still a chance they will be matched up later\n                            removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                        }\n\n                        curFromNodeChild = fromNextSibling;\n                    }\n\n                    // If we got this far then we did not find a candidate match for\n                    // our \"to node\" and we exhausted all of the children \"from\"\n                    // nodes. Therefore, we will just append the current \"to\" node\n                    // to the end\n                    if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {\n                        fromEl.appendChild(matchingFromEl);\n                        morphEl(matchingFromEl, curToNodeChild);\n                    } else {\n                        var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);\n                        if (onBeforeNodeAddedResult !== false) {\n                            if (onBeforeNodeAddedResult) {\n                                curToNodeChild = onBeforeNodeAddedResult;\n                            }\n\n                            if (curToNodeChild.actualize) {\n                                curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);\n                            }\n                            fromEl.appendChild(curToNodeChild);\n                            handleNodeAdded(curToNodeChild);\n                        }\n                    }\n\n                    curToNodeChild = toNextSibling;\n                    curFromNodeChild = fromNextSibling;\n                }\n\n                // We have processed all of the \"to nodes\". If curFromNodeChild is\n                // non-null then we still have some from nodes left over that need\n                // to be removed\n                while (curFromNodeChild) {\n                    fromNextSibling = curFromNodeChild.nextSibling;\n                    if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {\n                        // Since the node is keyed it might be matched up later so we defer\n                        // the actual removal to later\n                        addKeyedRemoval(curFromNodeKey);\n                    } else {\n                        // NOTE: we skip nested keyed nodes from being removed since there is\n                        //       still a chance they will be matched up later\n                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                    }\n                    curFromNodeChild = fromNextSibling;\n                }\n            }\n\n            var specialElHandler = specialElHandlers[fromEl.nodeName];\n            if (specialElHandler) {\n                specialElHandler(fromEl, toEl);\n            }\n        } // END: morphEl(...)\n\n        var morphedNode = fromNode;\n        var morphedNodeType = morphedNode.nodeType;\n        var toNodeType = toNode.nodeType;\n\n        if (!childrenOnly) {\n            // Handle the case where we are given two DOM nodes that are not\n            // compatible (e.g. <div> --> <span> or <div> --> TEXT)\n            if (morphedNodeType === ELEMENT_NODE) {\n                if (toNodeType === ELEMENT_NODE) {\n                    if (!compareNodeNames(fromNode, toNode)) {\n                        onNodeDiscarded(fromNode);\n                        morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));\n                    }\n                } else {\n                    // Going from an element node to a text node\n                    morphedNode = toNode;\n                }\n            } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node\n                if (toNodeType === morphedNodeType) {\n                    if (morphedNode.nodeValue !== toNode.nodeValue) {\n                        morphedNode.nodeValue = toNode.nodeValue;\n                    }\n\n                    return morphedNode;\n                } else {\n                    // Text node to something else\n                    morphedNode = toNode;\n                }\n            }\n        }\n\n        if (morphedNode === toNode) {\n            // The \"to node\" was not compatible with the \"from node\" so we had to\n            // toss out the \"from node\" and use the \"to node\"\n            onNodeDiscarded(fromNode);\n        } else {\n            morphEl(morphedNode, toNode, childrenOnly);\n\n            // We now need to loop over any keyed nodes that might need to be\n            // removed. We only do the removal if we know that the keyed node\n            // never found a match. When a keyed node is matched up we remove\n            // it out of fromNodesLookup and we use fromNodesLookup to determine\n            // if a keyed node has been matched up or not\n            if (keyedRemovalList) {\n                for (var i=0, len=keyedRemovalList.length; i<len; i++) {\n                    var elToRemove = fromNodesLookup[keyedRemovalList[i]];\n                    if (elToRemove) {\n                        removeNode(elToRemove, elToRemove.parentNode, false);\n                    }\n                }\n            }\n        }\n\n        if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n            if (morphedNode.actualize) {\n                morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);\n            }\n            // If we had to swap out the from node with a new node because the old\n            // node was not compatible with the target node then we need to\n            // replace the old DOM node in the original DOM tree. This is only\n            // possible if the original DOM node was part of a DOM tree which\n            // we know is the case if it has a parent node.\n            fromNode.parentNode.replaceChild(morphedNode, fromNode);\n        }\n\n        return morphedNode;\n    };\n}\n\nvar morphdom = morphdomFactory(morphAttrs);\n\nexport default morphdom;\n","/*\n================================================================================\nPhoenix LiveView Javascript Client \n================================================================================\n\n## Usage\n\nInstantiate a single LiveSocket instances to enable LiveView\nclient/server interaction, for example:\n\n    import LiveSocket from \"live_view\"\n\n    let liveSocket = new LiveSocket(\"/live\")\n    liveSocket.connect()\n\nA LiveSocket can also be created from an existing socket:\n\n    import { Socket } from \"phoenix\"\n    import LiveSocket from \"live_view\"\n\n    let socket = new Socket(\"/live\")\n    let liveSocket = new LiveSocket(socket)\n    liveSocket.connect()\n\nAll options are passed directly to the `Phoenix.Socket` constructor,\nexcept for the following LiveView specific options:\n\n  * `bindingPrefix` - the prefix to use for phoenix bindings. Defaults `\"phx-\"`\n\n## Events\n\n### Click Events\n\nWhen pushed, the value sent to the server will be chosen with the\nfollowing priority:\n\n  - An optional `\"phx-value\"` binding on the clicked element\n  - The clicked element's `value` property\n  - An empty string\n\n### Key Events\n\nThe onkeypress, onkeydown, and onkeyup events are supported via\nthe `phx-keypress`, `phx-keydown`, and `phx-keyup` bindings. By\ndefault, the bound element will be the event listener, but an\noptional `phx-target` may be provided which may be `\"document\"`,\n`\"window\"`, or the DOM id of a target element.\n\nWhen pushed, the value sent to the server will be the event's keyCode.\n\n## Loading state and Errors\n\nBy default, the following classes are applied to the Live View's parent\ncontainer:\n\n  - `\"phx-connected\"` - applied when the view has connected to the server\n  - `\"phx-disconnected\"` - applied when the view is not connected to the server\n  - `\"phx-error\"` - applied when an error occurs on the server. Note, this\n    class will be applied in conjunction with `\"phx-disconnected\"` connection\n    to the server is lost.\n\nIn addition to applied classes, an empty `\"phx-loader\"` exists adjacent\nto every LiveView, and its display status is toggled automatically based on\nconnection and error class changes. This behavior may be disabled by overriding\n`.phx-loader` in your css to `display: none!important`.\n*/\n\nimport {Socket} from \"phoenix\"\nimport morphdom from \"morphdom\"\n\nconst PHX_VIEW = \"data-phx-view\"\nconst PHX_CONNECTED_CLASS = \"phx-connected\"\nconst PHX_DISCONNECTED_CLASS = \"phx-disconnected\"\nconst PHX_ERROR_CLASS = \"phx-error\"\nconst PHX_PARENT_ID = \"data-phx-parent-id\"\nconst PHX_VIEW_SELECTOR = `[${PHX_VIEW}]`\nconst PHX_ERROR_FOR = \"data-phx-error-for\"\nconst PHX_HAS_FOCUSED = \"data-phx-has-focused\"\nconst PHX_BOUND = \"data-phx-bound\"\nconst FOCUSABLE_INPUTS = [\"text\", \"textarea\", \"password\"]\nconst PHX_HAS_SUBMITTED = \"data-phx-has-submitted\"\nconst PHX_SESSION = \"data-phx-session\"\nconst LOADER_TIMEOUT = 100\nconst LOADER_ZOOM = 2\nconst BINDING_PREFIX = \"phx-\"\nconst PUSH_TIMEOUT = 20000\n\nlet isObject = (obj) => {\n  return typeof(obj) === \"object\" && !(obj instanceof Array)\n}\n\nlet isEmpty = (obj) => {\n  return Object.keys(obj).length === 0\n}\n\nlet maybe = (el, key) => {\n  if(el){\n    return el[key]\n  } else {\n    return null\n  }\n}\n\nlet recursiveMerge = (target, source) => {\n  for(let key in source){\n    let val = source[key]\n    if(isObject(val) && target[key]){\n      recursiveMerge(target[key], val)\n    } else {\n      target[key] = val\n    }\n  }\n}\n\nlet Rendered = {\n\n  mergeDiff(source, diff){\n    if(this.isNewFingerprint(diff)){\n      return diff\n    } else {\n      recursiveMerge(source, diff)\n      return source\n    }\n  },\n\n  isNewFingerprint(diff){ return diff.static },\n\n  toString(rendered){\n    let output = {buffer: \"\"}\n    this.toOutputBuffer(rendered, output)\n    return output.buffer\n  },\n\n  toOutputBuffer(rendered, output){\n    if(rendered.dynamics){ return this.comprehensionToBuffer(rendered, output) }\n    let {static: statics} = rendered\n    \n    output.buffer += statics[0]\n    for(let i = 1; i < statics.length; i++){\n      this.dynamicToBuffer(rendered[i - 1], output)\n      output.buffer += statics[i]\n    }\n  },\n\n  comprehensionToBuffer(rendered, output){\n    let {dynamics: dynamics, static: statics} = rendered\n\n    for(let d = 0; d < dynamics.length; d++){\n      let dynamic = dynamics[d]\n      output.buffer += statics[0]\n      for(let i = 1; i < statics.length; i++){\n        this.dynamicToBuffer(dynamic[i - 1], output)\n        output.buffer += statics[i]\n      }\n    }\n  },\n\n  dynamicToBuffer(rendered, output){\n    if(isObject(rendered)){\n      this.toOutputBuffer(rendered, output)\n    } else {\n      output.buffer += rendered\n    }\n  }\n}\n\nexport default class LiveSocket {\n  constructor(urlOrSocket, opts = {}){\n    let socket = urlOrSocket\n    if(typeof urlOrSocket === \"string\"){\n      socket = new Socket(urlOrSocket, opts)\n    }\n    this.socket = socket\n    this.bindingPrefix = opts.bindingPrefix || BINDING_PREFIX\n    this.opts = opts\n    this.views = {}\n    this.activeElement = null\n    this.prevActive = null\n  }\n\n  connect(){\n    if([\"complete\", \"loaded\",\"interactive\"].indexOf(document.readyState) >= 0){\n      this.joinRootView()\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", () => {\n        this.joinRootView()\n      })\n    }\n    return this.socket.connect()\n  }\n\n  disconnect(){ return this.socket.disconnect()}\n\n  channel(topic, params){ return this.socket.channel(topic, params || {}) }\n\n  joinRootView(){\n    let rootEl = document.querySelector(PHX_VIEW_SELECTOR)\n    if(rootEl){ this.joinView(rootEl) }\n  }\n\n  joinView(el, parentView){\n    let view = new View(el, this, parentView)\n    this.views[view.id] = view\n    view.join()\n  }\n\n  getViewById(id){ return this.views[id] }\n\n  onViewError(view){\n    this.dropActiveElement(view)\n  }\n\n  destroyViewById(id){\n    let view = this.views[id]\n    if(view){\n      delete this.views[view.id]\n      view.destroy()\n    }\n  }\n\n  getBindingPrefix(){ return this.bindingPrefix }\n\n  setActiveElement(target){\n    if(this.activeElement === target){ return }\n    this.activeElement = target\n    let cancel = () => {\n      if(target === this.activeElement){ this.activeElement = null }\n    }\n    target.addEventListener(\"mouseup\", cancel)\n    target.addEventListener(\"touchend\", cancel)\n  }\n\n  getActiveElement(){\n    if(document.activeElement === document.body){\n      return this.activeElement || document.activeElement\n    } else {\n      return document.activeElement\n    }\n  }\n\n  dropActiveElement(view){\n    if(this.prevActive && view.ownsElement(this.prevActive)){\n      this.prevActive = null\n    }\n  }\n  \n  restorePreviouslyActiveFocus(){\n    if(this.prevActive && this.prevActive !== document.body){\n      this.prevActive.focus()\n    }\n  }\n\n  blurActiveElement(){\n    this.prevActive = this.getActiveElement()\n    if(this.prevActive !== document.body){ this.prevActive.blur() }\n  }\n}\n\nlet Browser = {\n  setCookie(name, value){\n    document.cookie = `${name}=${value}`\n  },\n\n  getCookie(name){\n    return document.cookie.replace(new RegExp(`(?:(?:^|.*;\\s*)${name}\\s*\\=\\s*([^;]*).*$)|^.*$`), \"$1\")\n  },\n\n  redirect(toURL, flash){\n    if(flash){ Browser.setCookie(\"__phoenix_flash__\", flash + \"; max-age=60000; path=/\") }\n    window.location = toURL\n  }\n}\n\nlet DOM = {\n\n  discardError(el){\n    let field = el.getAttribute && el.getAttribute(PHX_ERROR_FOR)\n    if(!field) { return }\n    let input = document.getElementById(field)\n\n    if(field && !(input.getAttribute(PHX_HAS_FOCUSED) || input.form.getAttribute(PHX_HAS_SUBMITTED))){\n      el.style.display = \"none\"\n    }\n  },\n\n  isPhxChild(node){\n    return node.getAttribute && node.getAttribute(PHX_PARENT_ID)\n  },\n\n  patch(view, container, id, html){\n    let focused = view.liveSocket.getActiveElement()\n    view.liveSocket.restorePreviouslyActiveFocus()\n    let selectionStart = null\n    let selectionEnd = null\n    if(DOM.isTextualInput(focused)){\n      selectionStart = focused.selectionStart\n      selectionEnd = focused.selectionEnd\n    }\n\n    morphdom(container, `<div>${html}</div>`, {\n      childrenOnly: true,\n      onBeforeNodeAdded: function(el){\n        //input handling\n        DOM.discardError(el)\n        return el\n      },\n      onNodeAdded: function(el){\n        // nested view handling\n        if(DOM.isPhxChild(el) && view.ownsElement(el)){\n          view.onNewChildAdded(el)\n          return true\n        }\n        view.maybeBindAddedNode(el)\n      },\n      onBeforeNodeDiscarded: function(el){\n        // nested view handling\n        if(DOM.isPhxChild(el)){\n          view.liveSocket.destroyViewById(el.id)\n          return true\n        }\n      },\n      onBeforeElUpdated: function(fromEl, toEl) {\n        // nested view handling\n        if(DOM.isPhxChild(toEl)){\n          DOM.mergeAttrs(fromEl, toEl)\n          return false\n        }\n\n        // input handling\n        if(fromEl.getAttribute && fromEl.getAttribute(PHX_HAS_SUBMITTED)){\n          toEl.setAttribute(PHX_HAS_SUBMITTED, true)\n        }\n        if(fromEl.getAttribute && fromEl.getAttribute(PHX_HAS_FOCUSED)){\n          toEl.setAttribute(PHX_HAS_FOCUSED, true)\n        }\n        DOM.discardError(toEl)\n\n        if(DOM.isTextualInput(fromEl) && fromEl === focused){\n          DOM.mergeInputs(fromEl, toEl)\n          return false\n        } else {\n          return true\n        }\n      }\n    })\n\n    DOM.restoreFocus(focused, selectionStart, selectionEnd)\n    document.dispatchEvent(new Event(\"phx:update\"))\n  },\n\n  mergeAttrs(target, source){\n    source.getAttributeNames().forEach(name => {\n      let value = source.getAttribute(name)\n      target.setAttribute(name, value)\n    })\n  },\n\n  mergeInputs(target, source){\n    DOM.mergeAttrs(target, source)\n    target.readOnly = source.readOnly\n  },\n\n  restoreFocus(focused, selectionStart, selectionEnd){\n    if(!DOM.isTextualInput(focused)){ return }\n    if(focused.value === \"\" || focused.readOnly){ focused.blur()}\n    focused.focus()\n    if(focused.setSelectionRange && focused.type === \"text\" || focused.type === \"textarea\"){\n      focused.setSelectionRange(selectionStart, selectionEnd)\n    }\n  },\n\n  isTextualInput(el){\n    return FOCUSABLE_INPUTS.indexOf(el.type) >= 0\n  }\n}\n\nclass View {\n  constructor(el, liveSocket, parentView){\n    this.liveSocket = liveSocket\n    this.parent = parentView\n    this.newChildrenAdded = false\n    this.gracefullyClosed = false\n    this.el = el\n    this.prevKey = null\n    this.bindingPrefix = liveSocket.getBindingPrefix()\n    this.loader = this.el.nextElementSibling\n    this.id = this.el.id\n    this.view = this.el.getAttribute(PHX_VIEW)\n    this.hasBoundUI = false\n    this.channel = this.liveSocket.channel(`views:${this.id}`, () => {\n      return {session: this.getSession()}\n    })\n    this.loaderTimer = setTimeout(() => this.showLoader(), LOADER_TIMEOUT)\n    this.bindChannel()\n  }\n\n  getSession(){\n    return this.el.getAttribute(PHX_SESSION)|| this.parent.getSession()\n  }\n\n  destroy(callback = function(){}){\n    if(this.hasGracefullyClosed()){\n      callback()\n    } else {\n      this.channel.leave()\n        .receive(\"ok\", callback)\n        .receive(\"error\", callback)\n        .receive(\"timeout\", callback)\n    }\n  }\n\n  hideLoader(){\n    clearTimeout(this.loaderTimer)\n    this.loader.style.display = \"none\"\n  }\n\n  showLoader(){\n    clearTimeout(this.loaderTimer)\n    this.el.classList = PHX_DISCONNECTED_CLASS\n    this.loader.style.display = \"block\"\n    let middle = Math.floor(this.el.clientHeight / LOADER_ZOOM)\n    this.loader.style.top = `-${middle}px`\n  }\n  \n  onJoin({rendered}){\n    console.log(\"join\", JSON.stringify(rendered))\n    this.rendered = rendered\n    this.hideLoader()\n    this.el.classList = PHX_CONNECTED_CLASS\n    DOM.patch(this, this.el, this.id, Rendered.toString(this.rendered))\n    if(!this.hasBoundUI){ this.bindUI() }\n    this.hasBoundUI = true\n    this.joinNewChildren()\n  }\n\n  joinNewChildren(){\n    let selector = `${PHX_VIEW_SELECTOR}[${PHX_PARENT_ID}=\"${this.id}\"]`\n    document.querySelectorAll(selector).forEach(childEl => {\n      let child = this.liveSocket.getViewById(childEl.id)\n      if(!child){\n        this.liveSocket.joinView(childEl, this)\n      }\n    })\n  }\n\n  update(diff){\n    if(isEmpty(diff)){ return }\n    console.log(\"update\", JSON.stringify(diff))\n    this.rendered = Rendered.mergeDiff(this.rendered, diff)\n    let html = Rendered.toString(this.rendered)\n    this.newChildrenAdded = false\n    DOM.patch(this, this.el, this.id, html)\n    if(this.newChildrenAdded){ this.joinNewChildren() }\n  }\n\n  onNewChildAdded(el){\n    this.newChildrenAdded = true\n  }\n\n  bindChannel(){\n    this.channel.on(\"render\", (diff) => this.update(diff))\n    this.channel.on(\"redirect\", ({to, flash}) => Browser.redirect(to, flash) )\n    this.channel.on(\"session\", ({token}) => this.el.setAttribute(PHX_SESSION, token))\n    this.channel.onError(() => this.onError())\n    this.channel.onClose(() => this.onGracefulClose())\n  }\n\n  onGracefulClose(){\n    this.gracefullyClosed = true\n    this.liveSocket.destroyViewById(this.id)\n  }\n\n  hasGracefullyClosed(){ return this.gracefullyClosed }\n\n  join(){\n    this.channel.join()\n      .receive(\"ok\", data => this.onJoin(data))\n      .receive(\"error\", resp => this.onJoinError(resp))\n  }\n\n  onJoinError(resp){\n    this.displayError()\n    console.log(\"Unable to join\", resp)\n  }\n\n  onError(){\n    // console.log(\"error\", this.view)\n    this.liveSocket.onViewError(this)\n    document.activeElement.blur()\n    this.displayError()\n  }\n\n  displayError(){\n    this.showLoader()\n    this.el.classList = `${PHX_DISCONNECTED_CLASS} ${PHX_ERROR_CLASS}`\n  }\n\n  pushWithReply(event, payload){\n    this.channel.push(event, payload, PUSH_TIMEOUT)\n      .receive(\"ok\", diff => this.update(diff))\n  }\n\n  pushClick(clickedEl, event, phxEvent){\n    event.preventDefault()\n    let val = clickedEl.getAttribute(this.binding(\"value\")) || clickedEl.value || \"\"\n    this.pushWithReply(\"event\", {\n      type: \"click\",\n      event: phxEvent,\n      id: clickedEl.id,\n      value: val\n    })\n  }\n\n  pushKey(keyElement, kind, event, phxEvent){\n    if(this.prevKey === event.key){ return }\n    this.prevKey = event.key\n    this.pushWithReply(\"event\", {\n      type: `key${kind}`,\n      event: phxEvent,\n      id: event.target.id,\n      value: keyElement.value || event.key\n    })\n  }\n\n  pushInput(inputEl, event, phxEvent){\n    this.pushWithReply(\"event\", {\n      type: \"form\",\n      event: phxEvent,\n      id: event.target.id,\n      value: this.serializeForm(inputEl.form)\n    })\n  }\n  \n  pushFormSubmit(formEl, event, phxEvent){\n    if(event){ event.target.disabled = true }\n    this.pushWithReply(\"event\", {\n      type: \"form\",\n      event: phxEvent,\n      id: event && event.target.id || null,\n      value: this.serializeForm(formEl)\n    })\n  }\n\n  eachChild(selector, each){\n    return this.el.querySelectorAll(selector).forEach(child => {\n      if(this.ownsElement(child)){ each(child) }\n    })\n  }\n\n  ownsElement(element){\n    return element.getAttribute(PHX_PARENT_ID) === this.id ||\n           maybe(element.closest(PHX_VIEW_SELECTOR), \"id\") === this.id\n  }\n\n  bindUI(){\n    this.bindForms()\n    this.eachChild(`[${this.binding(\"click\")}]`, el => this.bindClick(el))\n    this.eachChild(`[${this.binding(\"keyup\")}]`, el => this.bindKey(el, \"up\"))\n    this.eachChild(`[${this.binding(\"keydown\")}]`, el => this.bindKey(el, \"down\"))\n    this.eachChild(`[${this.binding(\"keypress\")}]`, el => this.bindKey(el, \"press\"))\n  }\n\n  bindClick(el){\n    this.bindOwnAddedNode(el, el, this.binding(\"click\"), phxEvent => {\n      el.addEventListener(\"click\", e => this.pushClick(el, e, phxEvent))\n    })\n  }\n\n  bindKey(el, kind){\n    let event = `key${kind}`\n    this.bindOwnAddedNode(el, el, this.binding(event), (phxEvent) => {\n      let phxTarget = this.target(el)\n      phxTarget.addEventListener(event, e => {\n        this.pushKey(el, kind, e, phxEvent)\n      })\n    })\n  }\n\n  bindForms(){\n    let change = this.binding(\"change\")\n    this.eachChild(`form[${change}] input`, input => {\n      this.bindChange(input)\n    })\n    this.eachChild(`form[${change}] textarea`, textarea => {\n      this.bindChange(textarea)\n    })\n\n    let submit = this.binding(\"submit\")\n    this.eachChild(`form[${submit}]`, form => {\n      this.bindSubmit(form)\n    })\n  }\n\n  bindChange(input){\n    this.onInput(input, (phxEvent, e) => {\n      if(DOM.isTextualInput(input)){\n        input.setAttribute(PHX_HAS_FOCUSED, true)\n      } else {\n        this.liveSocket.setActiveElement(e.target)\n      }\n      this.pushInput(input, e, phxEvent)\n    })\n  }\n\n  bindSubmit(form){\n    this.bindOwnAddedNode(form, form, this.binding(\"submit\"), phxEvent => {\n      form.addEventListener(\"submit\", e => {\n        e.preventDefault()\n        this.submitForm(form, phxEvent, e)\n      })\n      this.scheduleSubmit(form, phxEvent)\n    })\n  }\n\n  submitForm(form, phxEvent, e){\n    form.setAttribute(PHX_HAS_SUBMITTED, \"true\")\n    form.querySelectorAll(\"input\").forEach(input => input.readOnly = true)\n    this.liveSocket.blurActiveElement()\n    this.pushFormSubmit(form, e, phxEvent)\n  }\n\n  scheduleSubmit(form, phxEvent){\n    let everyMs = parseInt(form.getAttribute(this.binding(\"submit-every\")))\n    if(everyMs && this.el.contains(form)){\n      setTimeout(() => {\n        this.submitForm(form, phxEvent)\n        this.scheduleSubmit(form, phxEvent)\n      }, everyMs)\n    }\n  }\n\n  maybeBindAddedNode(el){\n    if(!el.getAttribute || !this.ownsElement(el)) { return }\n\n    this.bindClick(el)\n    this.bindSubmit(el)\n    this.bindChange(el)\n    this.bindKey(el, \"up\")\n    this.bindKey(el, \"down\")\n    this.bindKey(el, \"press\")\n\n  }\n\n  binding(kind){ return `${this.bindingPrefix}${kind}` }\n\n  // private\n\n  serializeForm(form){\n   return((new URLSearchParams(new FormData(form))).toString())\n  }\n\n  bindOwnAddedNode(el, targetEl, event, callback){\n    if(targetEl && !targetEl.getAttribute){ return }\n    let phxEvent = targetEl.getAttribute(event)\n\n    if(phxEvent && !el.getAttribute(PHX_BOUND) && this.ownsElement(el)){\n      el.setAttribute(PHX_BOUND, true)\n      callback(phxEvent)\n    }\n  }\n\n  onInput(input, callback){\n    if(!input.form){ return }\n    this.bindOwnAddedNode(input, input.form, this.binding(\"change\"), phxEvent => {\n      let event = input.type === \"radio\" ? \"change\" : \"input\"\n      input.addEventListener(event, e => callback(phxEvent, e))\n    })\n  }\n\n  target(el){\n    let target = el.getAttribute(this.binding(\"target\"))\n    if(target === \"window\"){\n      return window\n    }else if(target === \"document\"){\n      return document\n    } else if(target){\n      return document.getElementById(target)\n    } else {\n      return el\n    }\n  }\n}\n"],"names":["module","e","t","n","i","exports","o","l","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","Phoenix","this","Function","eval","window","iterator","constructor","TypeError","a","length","configurable","writable","key","b","R","w","C","S","u","self","h","f","connecting","open","closing","closed","errored","joined","joining","leaving","v","close","error","join","reply","leave","y","g","longpoll","websocket","k","channel","event","payload","receivedResp","timeout","timeoutTimer","recHooks","sent","reset","send","hasReceived","startTimeout","socket","push","topic","ref","join_ref","joinRef","response","status","callback","cancelRefEvent","refEvent","filter","forEach","off","clearTimeout","cancelTimeout","makeRef","replyEventName","on","matchReceive","setTimeout","trigger","state","params","bindings","bindingRef","joinedOnce","joinPush","pushBuffer","rejoinTimer","T","rejoinUntilConnected","reconnectAfterMs","receive","onClose","hasLogger","log","concat","remove","onError","isLeaving","isClosed","scheduleTimeout","isJoining","isConnected","rejoin","arguments","Error","isJoined","canPush","indexOf","isLifecycleEvent","resend","sendJoin","onMessage","j","encode","JSON","stringify","decode","Array","isArray","next","done","return","parse","stateChangeCallbacks","message","channels","sendBuffer","transport","WebSocket","defaultEncoder","defaultDecoder","heartbeatIntervalMs","logger","longpollerTimeout","endPoint","heartbeatTimer","pendingHeartbeatRef","reconnectTimer","teardown","connect","location","protocol","match","appendParams","vsn","charAt","host","console","conn","endPointURL","onopen","onConnOpen","onerror","onConnError","onmessage","onConnMessage","onclose","onConnClose","flushSendBuffer","resetHeartbeat","skipHeartbeat","clearInterval","setInterval","sendHeartbeat","triggerChanError","code","readyState","connectionState","toString","data","isMember","token","pollEndpoint","normalizeEndpoint","poll","replace","RegExp","closeAndRetry","request","endpointURL","ontimeout","messages","XDomainRequest","xdomainRequest","XMLHttpRequest","ActiveXObject","xhrRequest","onload","parseJSON","responseText","onprogress","setRequestHeader","onreadystatechange","states","complete","serialize","encodeURIComponent","keys","events","diff","pendingDiffs","caller","onJoin","onLeave","onSync","syncState","syncDiff","inPendingSyncState","list","clone","map","metas","phx_ref","joins","leaves","unshift","apply","from","getOwnPropertyNames","timerCalc","timer","tries","range","NS_XHTML","doc","document","undefined","compareNodeNames","fromEl","toEl","fromNodeName","nodeName","toNodeName","actualize","charCodeAt","toUpperCase","syncBooleanAttrProp","name","setAttribute","removeAttribute","specialElHandlers","OPTION","INPUT","hasAttribute","TEXTAREA","newValue","firstChild","oldValue","nodeValue","placeholder","SELECT","curChild","nextSibling","selectedIndex","ELEMENT_NODE","TEXT_NODE","COMMENT_NODE","noop","defaultGetNodeKey","node","id","morphdom","morphAttrs","fromNode","toNode","options","toNodeHtml","createElement","innerHTML","str","createRange","selectNode","body","createContextualFragment","fragment","childNodes","keyedRemovalList","getNodeKey","onBeforeNodeAdded","onNodeAdded","onBeforeElUpdated","onElUpdated","onBeforeNodeDiscarded","onNodeDiscarded","onBeforeElChildrenUpdated","childrenOnly","fromNodesLookup","addKeyedRemoval","removeNode","parentNode","skipKeyedNodes","removeChild","walkDiscardedChildNodes","nodeType","handleNodeAdded","el","unmatchedFromEl","replaceChild","morphEl","curFromNodeKey","toElKey","isSameNode","curToNodeKey","fromNextSibling","toNextSibling","matchingFromEl","curToNodeChild","curFromNodeChild","outer","curFromNodeType","isCompatible","insertBefore","appendChild","onBeforeNodeAddedResult","ownerDocument","specialElHandler","indexTree","namespaceURI","morphedNode","morphedNodeType","toNodeType","nextChild","moveChildren","createElementNS","len","elToRemove","morphdomFactory","attr","attrName","attrNamespaceURI","attrValue","attrs","attributes","localName","getAttributeNS","setAttributeNS","getAttribute","specified","hasAttributeNS","removeAttributeNS","PHX_VIEW","PHX_VIEW_SELECTOR","FOCUSABLE_INPUTS","LOADER_TIMEOUT","BINDING_PREFIX","isObject","obj","_typeof","Rendered","mergeDiff","source","isNewFingerprint","recursiveMerge","target","val","static","rendered","output","buffer","toOutputBuffer","dynamics","comprehensionToBuffer","statics","dynamicToBuffer","dynamic","LiveSocket","urlOrSocket","opts","Socket","bindingPrefix","views","activeElement","prevActive","joinRootView","addEventListener","_this","disconnect","rootEl","querySelector","joinView","parentView","view","View","dropActiveElement","destroy","cancel","_this2","ownsElement","focus","getActiveElement","blur","Browser","setCookie","cookie","getCookie","redirect","toURL","flash","DOM","discardError","field","input","getElementById","form","style","display","isPhxChild","patch","container","html","focused","liveSocket","restorePreviouslyActiveFocus","selectionStart","selectionEnd","isTextualInput","onNewChildAdded","maybeBindAddedNode","destroyViewById","mergeAttrs","mergeInputs","restoreFocus","dispatchEvent","Event","getAttributeNames","readOnly","setSelectionRange","type","parent","newChildrenAdded","gracefullyClosed","prevKey","getBindingPrefix","loader","nextElementSibling","hasBoundUI","session","_this3","getSession","loaderTimer","showLoader","bindChannel","hasGracefullyClosed","classList","middle","Math","floor","clientHeight","top","hideLoader","bindUI","joinNewChildren","selector","querySelectorAll","childEl","_this4","getViewById","_this5","update","to","onGracefulClose","_this6","resp","onJoinError","displayError","onViewError","_this7","clickedEl","phxEvent","preventDefault","binding","pushWithReply","keyElement","kind","inputEl","serializeForm","formEl","disabled","each","child","_this8","element","closest","bindForms","eachChild","_this9","bindClick","bindKey","bindOwnAddedNode","_this10","pushClick","_this11","pushKey","change","_this12","bindChange","textarea","submit","bindSubmit","onInput","_this13","setActiveElement","pushInput","_this14","submitForm","scheduleSubmit","blurActiveElement","pushFormSubmit","everyMs","parseInt","contains","_this15","URLSearchParams","FormData","targetEl"],"mappings":"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"}